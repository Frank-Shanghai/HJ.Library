<hj-flex-container>
    <hj-flex-shrink>
        <div id="books-toolbar" class="grid-toolbar">
            <button class="btn btn-default" data-bind="click: borrowBooks, enable: canBorrowBook">
                <i class="fa fa-sign-out fa-rotate-180 borrow-button-icon"></i>Borrow
            </button>
            <span class="error-message" data-bind="if: isBookCountLimitMessageVisible">* User can borrow <span data-bind="text: hj.library.Application.instance.userMaximumBookCount"></span> books at most, and this user already borrowed <span data-bind="text: selectedUser().borrowedBooksCount"></span> book(s).</span>
        </div>

        <h3>Select User</h3>
        <span>* For users who already borrowed more than 3 (including 3) books are not selectable</span>
        <hj-searchable-dropdownlist params="{context: userListOptions}"></hj-searchable-dropdownlist>
        <h3>Select Book(s)</h3>
        <span>* Here only displays the available books</span>
    </hj-flex-shrink>
    <hj-flex-grow>
        <hj-flex-scroll>          
            <div class="books-query-container">
                <input type="text" class="form-control keyword" data-bind="value: keyword" />
                <div class="options">
                    <hj-searchable-dropdownlist params="{context: keywordFilterOptions}"></hj-searchable-dropdownlist>
                </div>
                <button class="btn btn-default query-button" data-bind="click: searchBooks">Search</button>                                
            </div>  
            <table data-bind="grid: {options: booksGridOptions, selectionChanged: refreshBooksSelection, dataSource: booksDataSource}"></table>
        </hj-flex-scroll>
    </hj-flex-grow>
</hj-flex-container>