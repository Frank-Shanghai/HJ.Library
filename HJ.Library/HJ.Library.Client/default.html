<!DOCTYPE html>
<html>
<head>
    <title>HighJump Library</title>
    <meta charset="utf-8" />

    <script type="text/javascript" src="Scripts/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="Scripts/sammy-0.7.5.min.js"></script>
    <script type="text/javascript" src="Scripts/underscore.min.js"></script>
    <script type="text/javascript" src="Scripts/knockout-3.4.0.js"></script>
    <script type="text/javascript" src="Scripts/bootstrap.js"></script>
    <script type="text/javascript" src="Scripts/bootstrap-table/bootstrap-table.js"></script>
    <script type="text/javascript" src="Scripts/moment.js"></script>
    <script type="text/javascript" src="Scripts/moment-datepicker.js"></script>
    <script type="text/javascript" src="Scripts/moment-datepicker-ko.js"></script>
    <link rel="stylesheet" href="Content/bootstrap.css" />
    <link rel="stylesheet" href="Scripts/bootstrap-table/bootstrap-table.css" />
    <link rel="stylesheet" href="Content/moment-datepicker/datepicker.css" />
    <script type="text/javascript" src="Scripts/App/ApplicationOutput.js"></script> <!-- This js file is hidden by default. Click show all file to see it. -->
    <script type="text/javascript" src="Scripts/App/Startup.js"></script>
    <link rel="stylesheet" href="fonts/font-awesome.min.css" />
    <link rel="stylesheet" href="Style/app.css" />
</head>
<body>
    <!-- Logon Page -->
    <!-- ko ifnot: sessionUser -->
    <div data-bind="template: {name: 'hj-library-authentication-LogonView', data: user}"></div>
    <!-- /ko -->
    <!-- ko if: sessionUser -->
    <!-- ==== Header View ==== -->
    <div class="app-header">
        <a href="#/Welcome" class="logo"><img src="Resource/books.jpg" alt="Home" /></a>
        <div class="account">
            <span data-bind="text: userFullName"></span>
            <a href="#" class="profile-icon dropdown-toggle" data-toggle="dropdown">
                <i class="glyphicon glyphicon-user"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-right">
                <li><a href="#" data-toggle="modal" data-target="#userProfile">View Profile</a></li>
                <li><a href="#" data-toggle="modal" data-target="#changePassword">Change Password</a></li>
                <li class="divider"></li>
                <li><a href="#" data-bind="click: logout">Logout</a></li>
            </ul>
        </div>
        <div class="space-title">
            <span data-bind="text: spaceList.activeSpace().title"></span>
        </div>
    </div>

    <!-- ==== Navigation Bar ==== -->
    <div class="fs-nav">
        <nav class="quick-nav">
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="#menuBar" data-toggle="tab"><i class="fa fa-bars fa-fw"></i></a></li>
                <li><a href="#spaceBar" data-toggle="tab"><i class="fa fa-th saved fa-fw"></i></a></li>
            </ul>
        </nav>
        <div class="tab-content">
            <nav id="menuBar" class="app-navigation-bar tab-pane fade in active">
                <!-- custome binding handler menuState is used to update menu style in runtime -->
                <ul class="nav nav-pills nav-stacked" data-bind="foreach: navigationMenus">                        
                    <li data-bind="css: {'active': isActive}, template: 'hj-library-menu-MenuItemTemplateView', menuItemState: $data"></li>               
                </ul>
            </nav>
            <nav id="spaceBar" class="app-navigation-bar tab-pane fade">
                <ul class="nav nav-pills nav-stacked" data-bind="foreach: spaceList.spaces">
                    <li data-bind="css: {'active': isActive}, menuItemState: $data">
                        <a href="#" class="link-container" data-bind="click: hj.library.Application.instance.spaceList.open">
                            <span data-bind="text: title"></span>
                            <i class="fa fa-close close-icon" data-bind="visible: canClose, click: $parent.closeSpace"></i>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- ==== Content View / Main Screen ==== -->
    <section id="content" class="app-main-screen">
        <!-- ko with: spaceList.activeSpace() -->
        <div class="page-title">
            <div class="navigation-button">
                <a href="#" data-hj-test-id="active-thread-previous-button" data-bind="css: { 'disabled': !isPreviousButtonEnabled() }, click: goToPreviousPage">
                    <span class="fa-stack fa-lg">
                        <i class="fa fa-circle-thin fa-stack-2x"></i>
                        <i class="fa fa-angle-left fa-stack-1x"></i>
                    </span>
                </a>
                <a href="#" data-hj-test-id="active-thread-next-button" data-bind="css: { 'disabled': !isNextButtonEnabled() }, click: goToNextPage">
                    <span class="fa-stack fa-lg">
                        <i class="fa fa-circle-thin fa-stack-2x"></i>
                        <i class="fa fa-angle-right fa-stack-1x"></i>
                    </span>
                </a>
            </div>
            <div class="dropdown page-history">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#" data-bind="css: { 'disabled': !isPagesButtonEnabled() }">
                    <span data-hj-test-id="hj-active-page-title" data-bind="text: activePage().title()"></span>
                    <i class="fa fa-angle-down"></i>
                    <i class="fa fa-angle-up"></i>
                </a>
                <ul class="dropdown-menu" data-bind="foreach: pages">
                    <li data-toggle="collapse" data-target=".in" data-bind="css: { 'active': isVisible }"><a href="#" data-bind="text: title, click: $parent.goToPage"></a></li>
                </ul>
            </div>
        </div>

        <!-- ko if: activePage -->
        <div class="active-page">
            <div data-bind="template: {name: activePage().templateId, data: activePage}"></div>
            <!-- ko if: isProcessing -->
            <div data-bind="template: {name: 'hj-library-pages-dialogs-ProgressBarView', data: {}}"></div>
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <!-- /ko -->        
    </section>

    <!-- User Profile Modal Dialog-->
    <div data-bind="template: {name: 'hj-library-pages-dialogs-UserProfileDialogView', data: sessionUser}"></div>

    <!-- Change Password Modal Dialog -->
    <div data-bind="template: {name: 'hj-library-pages-dialogs-ChangePasswordDialogView', data: changePasswordDialog}"></div>

    <!-- Information Dialog -->
    <!-- ko if: informationDialog -->
    <hj-information-dialog params="context: informationDialog"></hj-information-dialog>
    <!-- /ko -->
    <!-- /ko -->
    <!-- Progress Bar -->
    <!-- ko if: isProcessing -->
    <div data-bind="template: {name: 'hj-library-pages-dialogs-ProgressBarView'}"></div>
    <!-- /ko -->

</body>
</html>
